{
	"info": {
		"_postman_id": "371fbdef-5ccb-479f-aefc-96fe42a89f2c",
		"name": "MediCare",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
		"_exporter_id": "35323506"
	},
	"item": [
		{
			"name": "Agendamento",
			"item": [
				{
					"name": "Cria Agendamento",
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "token"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "User-Agent",
								"value": "insomnia/11.3.0"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation CreateAppointment {\n    createAppointment(\n        input: { patientId: 4, doctorId: 3, appointmentDate: \"2025-10-24T01:01:00\" }\n    ) {\n        id\n        appointmentDate\n        createdDate\n        lastUpdateDate\n    }\n}"
							}
						},
						"url": "http://localhost:8081/graphql"
					},
					"response": []
				},
				{
					"name": "Recupera por Paciente",
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "token"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "User-Agent",
								"value": "insomnia/11.3.0"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query GetAppointmentsByPatient {\n    getAppointmentsByPatient(patientId: 2) {\n        id\n        appointmentDate\n        createdDate\n        lastUpdateDate\n        patient {\n            id\n            name\n            email\n        }\n        doctor {\n            id\n            name\n            email\n        }\n    }\n}"
							}
						},
						"url": "http://localhost:8081/graphql"
					},
					"response": []
				},
				{
					"name": "Recupera Todos",
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "token"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "User-Agent",
								"value": "insomnia/11.3.0"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query GetAllAppointments {\n    getAllAppointments {\n        appointmentDate\n        patient {\n            name\n        }\n        doctor {\n            name\n        }\n    }\n}"
							}
						},
						"url": "http://localhost:8081/graphql"
					},
					"response": []
				},
				{
					"name": "Recupera por Medico",
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "token"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "User-Agent",
								"value": "insomnia/11.3.0"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query GetAppointmentsByDoctor {\n    getAppointmentsByDoctor(doctorId: 1) {\n        id\n        appointmentDate\n        createdDate\n        lastUpdateDate\n        patient {\n            id\n            name\n            email\n        }\n        doctor {\n            id\n            name\n            email\n        }\n    }\n}"
							}
						},
						"url": "http://localhost:8081/graphql"
					},
					"response": []
				},
				{
					"name": "Recupera",
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "token"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "User-Agent",
								"value": "insomnia/11.3.0"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query GetAppointment {\n    getAppointment(id: 1) {\n        id\n        appointmentDate\n        createdDate\n        lastUpdateDate\n        doctor {\n            id\n            name\n            email\n        }\n        patient {\n            id\n            name\n            email\n        }\n    }\n}"
							}
						},
						"url": "http://localhost:8081/graphql"
					},
					"response": []
				},
				{
					"name": "Atualiza",
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "token"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "User-Agent",
								"value": "insomnia/11.3.0"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query UpdateAppointment {\n    getAppointment(id: 1) {\n        id\n        appointmentDate\n        createdDate\n        lastUpdateDate\n        doctor {\n            id\n            name\n            email\n        }\n        patient {\n            id\n            name\n            email\n        }\n    }\n}"
							}
						},
						"url": "http://localhost:8081/graphql"
					},
					"response": []
				},
				{
					"name": "Deleta",
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "token"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "User-Agent",
								"value": "insomnia/11.3.0"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation DeleteAppointment {\n    deleteAppointment(id: 1)\n}"
							}
						},
						"url": "http://localhost:8081/graphql"
					},
					"response": []
				}
			]
		},
		{
			"name": "Auth",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('preRequest', function () {",
									"});"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('afterResponse', function () {",
									"    if (pm.response.code === 200) {",
									"        var jsonData = pm.response.json();",
									"        pm.collectionVariables.set('token', jsonData.token);",
									"    }",
									"});"
								]
							}
						}
					],
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"carlos.oliveira\",\n  \"password\": \"Paciente@123\"\n}",
							"options": {
								"raw": {
									"language": "text"
								}
							}
						},
						"url": "{{baseUrl}}/auth/login",
						"description": "Realizar login e obter token JWT"
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test('preRequest', function () {",
							"});"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test('afterResponse', function () {",
							"});"
						]
					}
				}
			]
		},
		{
			"name": "Usuario",
			"item": [
				{
					"name": "Criar Usuario",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('preRequest', function () {",
									"});"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('afterResponse', function () {",
									"});"
								]
							}
						}
					],
					"protocolProfileBehavior": {
						"followRedirects": true,
						"disableUrlEncoding": false,
						"disableCookies": false
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"dr.silva@hospital.com.br\",\r\n  \"senha\": \"Medico@123\",\r\n  \"nome\": \"Dr. Jo√£o Silva\",\r\n  \"username\": \"joao.silva\",\r\n  \"roles\": [\"ROLE_MEDICO\"]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/usuario/criar"
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test('preRequest', function () {",
							"});"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test('afterResponse', function () {",
							"});"
						]
					}
				}
			]
		}
	]
}